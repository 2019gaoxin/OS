3-1：在一个实时系统中有三个周期性实时任务，任务A要求每20ms执行一次，执行时间为10ms；任务B要求50ms执行一次，执行时间为10ms；任务C要求50ms执行一次，执行时间为15ms，应如何按最低松弛度优先算法对它们进行CPU调度？

```
最低松弛度优先

任务的紧急程度越高，为之赋予的优先级就越高。

例如，任务A在200ms时必须完成，本身运行时间100ms，则必须在100ms之前调度执行，A任务的紧急（松弛）程度为100ms，又如任务B在400ms是必须完成，需运行150ms，其松弛程度为250ms.

任务的松弛度=必须完成的时间-其本身的运行时间-当前时间

其中其本身运行的时间指任务运行结束还需多少时间，如果任务已经运行了一部分，则： 

任务松弛度=任务的处理时间-任务已经运行的时间 – 当前时间

```



## 先来先服务FCFS

3-2：假设一个系统中有5个进程，到达时间和服务时间见下表，请按照非抢占式短作业优先、非抢占式高响应比优先进行调度，算出两种方法得到的完成时间、周转时间、带权周转时间、平均周转时间及平均带权周转时间。



周转时间=作业完成时刻-作业到达时刻； 

带权周转时间=周转时间/服务时间； 

| 进程 | 到达时间 | 服务时间 |
| :--: | :------: | :------: |
|  A   |    0     |    3     |
|  B   |    2     |    6     |
|  C   |    4     |    4     |
|  D   |    6     |    5     |
|  E   |    8     |    2     |

 优先权=(等待时间+要求服务时间)/要求服务时间 

表示为：Rp=响应时间/要求服务时间

非抢占式短作业优先

| 非抢占式短作业优先 | 完成时间 | 周转时间 | 带权周转时间 |
| :----------------: | :------: | :------: | :----------: |
|         A          |    3     |    3     |      1       |
|         B          |    9     |    7     |     1.17     |
|         C          |    15    |    11    |     2.75     |
|         D          |    20    |    14    |     2.8      |
|         E          |    11    |    3     |     1.5      |
|        平均        |          |   7.6    |     1.84     |



高响应比优先调度算法 

先执行第一个到达的作业A  t=3,周转时间为t - 到达时间=3

t = 3 时只有B到达，完成时间t = 9;周转时间  9-2=7

此时CDE均到达

R(C) = 1+(9-4)/4=2.25

R(D)=1+(9-6)/5=1.6

R(E)=1+(9-8)/2=1.5

所以先执行C  完成时间t = 9+4=13;周转时间 13-4=9

此时还要DE

R(D)=1+(13-6)/5=2.4

R(E)=1+(13-8)/2=3.5

故先执行E再执行D

执行E完成时间t = 13+2=15周转时间t =15-8=7

执行D  完成时间t=15+5=20,周转时间=20-6=14

| 高响应比优先调度算法 | 完成时间 | 周转时间 | 带权周转时间 |
| :------------------: | :------: | :------: | :----------: |
|          A           |    3     |    3     |      1       |
|          B           |    9     |    7     |     1.17     |
|          C           |    13    |    9     |     2.25     |
|          D           |    20    |    14    |     2.8      |
|          E           |    15    |    7     |     3.5      |
|         平均         |          |    8     |    2.144     |

   优先权=(等待时间+要求服务时间)/要求服务时间 

Rp=响应时间/要求服务时间 



```
非抢占方式（Non-preemptive Mode）
             一旦把处理机分配给某进程后，便让该进程一直执行，直至该进程完成或发生某事件而被阻塞时，才把处理机分配给其他进程，决不允许进程抢占已分配出去的处理机。

短作业优先（SJF）的调度算法，是从后备队列中选择一个或若干个估计运行时间最短的作业，将它们调入内存运行。

抢占方式（Preemptive Mode）
             允许调度程序根据某种原则，去暂停某个正在执行的进程，将处理机重新分配给另一进程。
抢占的原则：
优先权原则：优先权高的可以抢占优先级低的进程的处理机。
短作业（进程）优先原则：短作业（进程）可以抢占长作业（进程）的处理机。
时间片原则：各进程按时间片运行，一个时间片用完时，停止该进程执行重新进行调度。

高响应比优先调度算法
            在批处理系统中，短作业优先算法是一种比较好的算法，其主要不足是长作业的运行得不到保证。我们为每个作业引入动态优先权，并使作业的优先级随着等待时间的增加而以速率a提高，则可解决问题。见下式：
   优先权=(等待时间+要求服务时间)/要求服务时间
             由于等待时间与服务时间之和就是系统的响应时间，故上式又表示为：Rp=响应时间/要求服务时间
```

